<div [hidden]="!loading" style="min-height: 80vh;">
  <div class="dot"></div>
</div>
<div [hidden]="loading" class="mt-5">
  <div class="card p-5">
    <div class="row">
      <img [src]="product?.image" class="col-sm-6 col-lg-4">
      <div class="col-lg-8 col-sm-6">
        <h2>{{product?.title}}</h2>
        <p>{{product?.description}}</p>

        <span
          class="col-2">Price: {{(product.price * (amountControl.value <= maxValue ? amountControl.value : maxValue)).toFixed(2)}}
          $</span>
        <div class="row justify-content-between">
          <mat-form-field class="col-7 p-2" appearance="outline">
            <input matInput  type="number" placeholder="Quantity" [min]="minValue" [max]="maxValue"
                   [formControl]="amountControl">
            <mat-error *ngIf="amountControl.invalid">Min quantity is 1, and Max is 100</mat-error>
          </mat-form-field>
          <button mat-fab class="me-3" (click)="addToCart()">
            <mat-icon>add_shopping_cart</mat-icon>
          </button>
        </div>
      </div>
    </div>

    <hr/>
    <div class="row pt-4">
      <h2 class="col-lg-8 col-sm-4">Total Ratings ({{product.reviews.length}})</h2>
      <app-stars [stars]="avgRate" class="col-lg-4 col-sm-8"></app-stars>
    </div>
    <app-ratings [ratings]="product.reviews"></app-ratings>
  </div>


</div>

